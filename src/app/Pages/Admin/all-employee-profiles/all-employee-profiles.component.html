<div class="container p-4">
    <!-- Title -->
    <div class="flex justify-content-center mb-4">
        <h1 class="text-3xl font-bold text-blue-600">Employees</h1>
    </div>

    <!-- Add Employee Button -->
    <div class="flex justify-content-end mb-4">
        <p-button label="Add Employee" icon="pi pi-plus" class="p-button-primary" (click)="openDialog()"></p-button>
    </div>

    <!-- Employee Table -->
    <div class="p-grid">
        <div class="p-col-12">
            <p-table [value]="employees" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
                <ng-template pTemplate="header">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Password</th>
                        <th>Phone Number</th>
                        <th>Address</th>
                        <th>Department</th>
                        <th>Manager</th>
                        <th>Employee Role</th>
                        <th>Joining Date</th>
                        <th>Actions</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-employee>
                    <tr>
                        <td>{{ employee.firstName }}</td>
                        <td>{{ employee.lastName }}</td>
                        <td>{{ employee.email }}</td>
                        <td>{{ employee.password }}</td>
                        <td>{{ employee.mobileNumber }}</td>
                        <td>{{ employee.address }}</td>
                        <td>{{ employee.department }}</td>
                        <td>{{ employee.manager }}</td>
                        <td>{{ employee.role }}</td>
                        <td>{{ employee.joiningDate | date: 'yyyy-MM-dd' }}</td>
                        <td>
                            <div class="flex gap-2">
                                <!-- Edit Button (Green) -->
                                <p-button icon="pi pi-pencil" severity="success" class="p-button-rounded" (click)="editEmployee(employee)"></p-button>
                                <!-- Delete Button (Red) -->
                                <p-button icon="pi pi-trash" severity="danger" class="p-button-rounded" (click)="deleteEmployee(employee.id)"></p-button>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>

    <!-- PrimeNG Dialog for Add/Edit Employee -->
    <p-dialog header="{{ isEditing ? 'Edit Employee' : 'Add Employee' }}" [(visible)]="showDialog" modal="modal" 
    [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
        <!-- Form Structure -->
        <div class="border-2 border-gray-300 rounded-lg p-4 bg-white">
            <form [formGroup]="employeeForm" (ngSubmit)="isEditing ? updateEmployee() : addEmployee()" class="p-fluid">
                <div class="formgrid grid">
                    <!-- First Name and Last Name -->
                    <div class="field col-12 md:col-6">
                        <label for="firstName" class="font-semibold">First Name</label>
                        <input id="firstName" type="text" formControlName="firstName" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter first name" />
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="lastName" class="font-semibold">Last Name</label>
                        <input id="lastName" type="text" formControlName="lastName" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter last name" />
                    </div>

                    <!-- Email and Password -->
                    <div class="field col-12 md:col-6">
                        <label for="email" class="font-semibold">Email Address</label>
                        <input id="email" type="email" formControlName="email" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter email address" />
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="password" class="font-semibold">Password</label>
                        <input id="password" type="password" formControlName="password" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter password" />
                    </div>

                    <!-- Phone Number and Department -->
                    <div class="field col-12 md:col-6">
                        <label for="mobileNumber" class="font-semibold">Phone Number</label>
                        <input id="mobileNumber" type="tel" formControlName="mobileNumber" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter phone number" />
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="department" class="font-semibold">Department</label>
                        <select id="department" formControlName="department" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                            <option value="">Select Department</option>
                            <option value="Engineering">Engineering</option>
                            <option value="QA Testing">QA Testing</option>
                            <option value="Admin">Admin</option>
                            <option value="Human Resources">Human Resources</option>
                        </select>
                    </div>

                    <!-- Manager and Role -->
                    <div class="field col-12 md:col-6">
                        <label for="manager" class="font-semibold">Manager</label>
                        <input id="manager" type="text" formControlName="manager" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter Manager Name" />
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="role" class="font-semibold">Role</label>
                        <select id="role" formControlName="role" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                            <option value="">Select Role</option>
                            <option value="Manager">Manager</option>
                            <option value="HR">HR</option>
                            <option value="Admin">Admin</option>
                            <option value="Developer">Developer</option>
                            <option value="Tester">Tester</option>
                        </select>
                    </div>

                    <!-- Joining Date and Address -->
                    <div class="field col-12 md:col-6">
                        <label for="joiningDate" class="font-semibold">Joining Date</label>
                        <input id="joiningDate" type="date" formControlName="joiningDate" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" />
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="address" class="font-semibold">Address</label>
                        <input id="address" type="text" formControlName="address" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Enter street address" />
                    </div>
                </div>

                <!-- Form Submit Button -->
                <div class="flex justify-content-end mt-4">
                    <p-button label="{{ isEditing ? 'Update' : 'Save' }}" [disabled]="employeeForm.invalid" type="submit" class="p-button-primary"></p-button>
                </div>
            </form>
        </div> <!-- End of form wrapper with border -->
    </p-dialog>
</div>









